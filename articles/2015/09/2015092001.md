title: canvas缓冲，犯了很傻的错误
date: 2015-09-20 04:36:04
category: 
accessible: public
---

制作了一个100X100格子的地图，每个格子32X32像素，这样图片就非常大了，达到了3200X3200，这个如果是rgba图像就已经差不多40MB了，算上其他开销，非常严重。

更严重的是我因为为了地图隐藏方便，把每个地图图层都进行了这样大小的缓冲，总共缓冲了将近20个图层。

问题就是，chrome打开，直接1.1GB内存，firefox打开，直接2GB内存，太可怕了……

后来看了好久才发现这个问题，傻的要命。

这么大的地图又不能不cache，不缓冲的话，除非是在windows下用webgl模式，否则帧率都满不了60