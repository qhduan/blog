title: 大量更新了博客系统
date: 2015-01-13 15:59:25
edit: 2015-02-09 16:14:25
category: 
accessible: public
---

应兔耳少年要求增加了很多功能

包括搜索，分类，按月存档，是否隐私，拟登录

乱七八糟的，基本上整个服务端都重构了，替换了一个npm上的config插件，因为我希望配置可以写入，而不仅仅是默认配置读取。

基本完成了任务，同时修改了editor的bug，总体来说效果不错，不算editor的话所有博客代码大约1800行（包括HTML）

-----

[2015-01-22]
取消了UUID的设置，文件名用日期格式，YYYYMMDDII
Y是四位年，M是两位月，D是两位日，I是至少两位的单日防冲突数字，从1开始，可以无限大（如果你一天能发99999篇，那么就是2015012299999）

-----

[2015-01-23]
文章排序貌似有bug，修改了一下
添加了一个fs.watch，不过貌似也没什么效果

-----

[2015-01-25]
修复了同一天添加article和post可能的冲突问题
修改了管理按钮位置，现在非常隐蔽了，虽然也算是有一定弊端
用angular-cookies来管理登录之后的密码保存问题，做到类似token的作用（因为cookie在关闭浏览器后会自动删除，而且也不影响多开标签页，开始本来想用sessionStorage，但是这个不能跨标签页）
修改了新建页面和修改页面中的按钮类型和布局，现在比较爽了

-----

[2015-02-06]
界面总体用semantic重写，虽然看上去和原来差不多……
细节的各种乱七八糟优化……希望
其实最重要的细节是把editor的bootstrap依赖去除了，为了以后moozhi的进一步开发方便

-----

[2015-02-09]
尝试改善编辑器显示和加载速度
修改编辑器的css文件加载方式