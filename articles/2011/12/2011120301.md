title: C99中的一些不常用类型之int和intptr
date: 2011-12-03 17:41:41
---

在1989年以前，C语言实际上没一个规定的标准，方言很多，所有的标准实际上就只是K&R的《The C Programming Language》一书，后来ANSI出版了一个1989标准，在90年ISO出版了1990标准，一般分别简称为C89，C90。之后ISO一直希望对C90进行修正，后来分别推出了C98与其的第二版C99，C99是1999年ISO推出的最近的一版C语言标准，对C语言进行的修正和小部分扩充。

在C99中为了满足主要是可移植性的要求，提出了一些类型：
int8_t int16_t int32_t int64_t
uint8_t uint16_t uint32_t uint64_t
int_least8_t int_least16_t int_least32_t int_least64_t
uint_least8_t uint_least16_t uint_least32_t uint_least64_t
int_fast8_t int_fast16_t int_fast32_t int_fast64_t
uint_fast8_t uint_fast16_t uint_fast32_t uint_fast64_t
intmax_t
uintmax_t
intptr_t
uintptr_t

这些关键字的提出，主要的目的是为了保证平台移植性。

int8_t
最大值INT8_MAX，最小值INT8_MIN
此类型保证程序员能得到一个非常精确的有且只有8位的int类型。

int_least8_t
最大值INT_LEAST8_MAX,最小值INT_LEAST8_MIN
此类型保证程序员最少获得位数为指定位数的int，例如least8指int类型至少为8位。

int_fast8_t
最大值INT_FAST8_MAX，最小值INT_FAST8_MIN
此类型从某种意义上是在上一个类型的基础上对编译器的一个优化提示，告诉编译器我的程序至少需要8个比特的int，不过你用你最快的int类型去做好了。例如在一台计算机上，处理16位整数的速度比处理8位整数的速度要快得多，那么实际上定义一个int_fast8_t类型可能会被扩充为16位，为了保证fastest的目的。

intmax_t
最大值INTMAX_MAX，最小值INTMAX_MIN
最大能实现的int宽度，例如在64位电脑上部分编译器会将int定义为32位，不过使用这个类型定义的话编译器会将其扩充为cpu能处理的最大字长，64位计算机一般是64位。

intptr_t
最大值INTPTR_MAX，最小值INTPTR_MIN
int类型指针，例如32位电脑上指针一般是32位，那么这个定义会定义为一个32位整数变量。作用是，假设一个64位电脑的某个编译器默认将int设定为32位，那么就不足够容纳一个指针了，使用这个类型即不会出现这个问题。

注：无符号类型，即开头为u的类型的最小值皆为0。