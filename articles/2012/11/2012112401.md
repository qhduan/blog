title: javascript + html5 = future？
date: 2012-11-24 16:24:15
---

[![](/uploads/2012/11/Vega1.jpg "Vega")](/uploads/2012/11/Vega1.jpg)

我不知道是不是答案哈，不过html5确实是挺混乱的，对于web sql database基本都不支持，这也就罢了，对于开源的音频格式、mp3和wav的支持上也有分歧，这也太那个什么了，也就是说现在如果要做一个符合标准并且能让所有浏览器都支持的音频视频插件的话还必须至少准备两种视频音频格式，哎。。。

html5的application cache基本都支持了，localStorage也都支持了，这个还不错，有后者从某种意义上就可以代替web sql database了

最近一直在想把我原来写的背单词的软件用html5离线方法重新写一遍，算是无聊吧。我以前就做过这种事情，例如我分别用.net，java和c++与boost库写过一个socks5的server。我写背单词的程序也分别用wxwidgets，qt都写过一遍。

虽然好像是在做无用功，不过也算是让我了解了很多流行库了，各种库的基本思想，方法，我也都浏览了一遍。这次用javascript也算一次新的突破，不过其中当然也有很多问题。

比如说我想让整个程序，除了和服务器同步背单词的进度以外，其他的都能离线运行，这个在ff，ie上主要功能没问题。但是我还更甚着希望能离线发音，这就有点问题了，离线发音哪那么容易啊，以前我知道一个speak.js的，是把espeak用emscripten重玩的一个东西，但是不支持ie，就没用了，我想最后我只能放弃这个功能了。

还有就是我要把字典离线的话就需要很大的存储空间，我精简调了5w个左右考试词汇，然后用最精简的意思排列，最后放到js里大约是2MB，但是这也太大了，所以我还在网上找到了用emscripten改的lzma压缩，可以压缩到917KB，然后加上解压用的js也就不到1MB，可以说是压缩了很大啊，不知道实际使用的时候效果会怎么样。